{"version":3,"sources":["pages/home/Home.module.css","component/Navbar.module.css","pages/login/Login.module.css","pages/signup/Signup.module.css","firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useFireStore.js","pages/home/TransactionForm.js","pages/home/TransactionList.js","pages/home/Home.js","hooks/useCollection.js","pages/login/Login.js","hooks/useLogin.js","pages/signup/Signup.js","hooks/useSignup.js","component/Navbar.js","hooks/useLogout.js","component/routeguard/privateroute.jsx","App.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","initialState","document","isPending","error","success","firestoreReducer","useFirestore","collection","response","useState","isCancel","setIsCancel","ref","dispatchIfNotCancel","addDocument","doc","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","id","delete","TransactionForm","uid","name","setName","amount","setAmount","onSubmit","e","preventDefault","required","onChange","target","TransactionList","transactions","className","styles","map","transaction","onClick","Home","_query","_orderBy","documents","setDocuments","setError","query","useRef","current","orderBy","where","unsubscribe","onSnapshot","snapshot","result","docs","forEach","push","data","err","useCollection","container","content","sidebar","Login","email","setEmail","password","setPassword","isCanced","setIsPending","login","signInWithEmailAndPassword","res","useLogin","disabled","Signup","displayName","setDisplayName","signup","a","createUserWithEmailAndPassword","updateProfile","useSignup","Navbar","logout","signOut","useLogout","navbar","title","to","PrivateRoute","AllowededRoute","App","element","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7e3affe8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__3q9Pj\",\"content\":\"Home_content__2VOcd\",\"sidebar\":\"Home_sidebar__1gkHK\",\"transactions\":\"Home_transactions__19UKM\",\"name\":\"Home_name__kuXSE\",\"amount\":\"Home_amount__36dTw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__1_hrU\",\"title\":\"Navbar_title__1QGMo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__12Rtg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__h0q4d\"};","import firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAmqzoMBsUqM7siytOKLkqSVmAG2Er1XMU\",\r\n    authDomain: \"mymoney-275dc.firebaseapp.com\",\r\n    projectId: \"mymoney-275dc\",\r\n    storageBucket: \"mymoney-275dc.appspot.com\",\r\n    messagingSenderId: \"701978718151\",\r\n    appId: \"1:701978718151:web:0adcfff8a174e0248233e2\"\r\n  };\r\n\r\n//   init firebase \r\nfirebase.initializeApp(firebaseConfig)\r\n\r\n// init Service \r\nconst projectFirestore = firebase.firestore()\r\nconst projectAuth = firebase.auth()\r\n\r\n// timestamp\r\nconst timestamp = firebase.firestore.Timestamp\r\n\r\nexport { projectFirestore, projectAuth, timestamp }","import { createContext, useEffect, useReducer } from \"react\";\r\nimport { projectAuth } from \"../firebase/config\";\r\n\r\nexport const AuthContext = createContext()\r\n\r\nexport const authReducer = (state, action) =>{\r\n    switch(action.type){\r\n        case \"LOGIN\":\r\n            return {...state, user:action.payload}\r\n        case \"LOGOUT\":\r\n            return {...state, user: null}\r\n        case 'AUTH_IS_READY':\r\n            return {...state, user: action.payload, authIsReady: true}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const AuthContextProvider = ({children}) => {\r\n    const [state, dispatch] = useReducer(authReducer, {\r\n        user: null,\r\n        authIsReady: false\r\n    })\r\n\r\n    useEffect(()=>{\r\n        const unsub = projectAuth.onAuthStateChanged((user)=>{\r\n            dispatch({type: 'AUTH_IS_READY', payload: user})\r\n            unsub()\r\n        })\r\n    },[])  \r\n\r\n    console.log(\"AuthContext State:\", state)\r\n\r\n    return(\r\n        <AuthContext.Provider value={{...state, dispatch}}>\r\n            { children }\r\n        </AuthContext.Provider>\r\n    )\r\n}","import { AuthContext } from \"../context/AuthContext\";\r\nimport { useContext } from \"react\";\r\n\r\nexport const useAuthContext = () => {\r\n    const context = useContext(AuthContext)\r\n\r\n    if(!context){\r\n        throw new Error('useAuthContext must be inside an authprovider')\r\n    }\r\n\r\n    return context\r\n}","import { useReducer, useEffect, useState  } from \"react\";\r\nimport { projectFirestore, timestamp } from \"../firebase/config\";\r\n\r\n\r\nlet initialState = {\r\n    document: null,\r\n    isPending: false,\r\n    error: null,\r\n    success: null\r\n}\r\n\r\nconst firestoreReducer = (state, action) => {\r\n    switch(action.type){\r\n        case \"IS_PENDING\":\r\n            return {document: null, success: false, error: null, isPending: true}\r\n        case \"ADDED_DOCUMENT\":\r\n            return { isPending: false, document: action.payload, success: true, error: null }\r\n        case \"ERROR\":\r\n            return { isPending: false, document: null, success: false, error: action.payload}\r\n        case \"DELEED_DOCUMENT\":\r\n            return { isPending: false, document: null, success: true, }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const useFirestore = (collection) => {\r\n    const [response, dispatch] = useReducer(firestoreReducer, initialState)\r\n    const [isCancel, setIsCancel] = useState(false)\r\n\r\n    // collection ref\r\n    const ref = projectFirestore.collection(collection)\r\n\r\n    // only dispatch if not cancel\r\n\r\n    const dispatchIfNotCancel = (action) =>{\r\n        if (!isCancel){\r\n            dispatch(action)\r\n        }\r\n    }\r\n\r\n    // add document\r\n    const addDocument = async (doc) =>{\r\n        dispatch({type: \"IS_PENDING\", })\r\n        try{\r\n            const createdAt = timestamp.fromDate(new Date())\r\n           const addedDocument = await ref.add({...doc, createdAt})\r\n           dispatchIfNotCancel({type: 'ADDED_DOCUMENT', payload: addedDocument})\r\n        }catch(err){\r\n            dispatchIfNotCancel({type: \"ERROR\", payload: err.message})\r\n        }\r\n    }\r\n\r\n     // delete document\r\n     const deleteDocument = async (id) =>{\r\n        dispatch({type: \"IS_PENDING\"})\r\n\r\n        try{\r\n            await ref.doc(id).delete()\r\n            dispatchIfNotCancel({type: \"DELETED_DOCUMENT\"})\r\n        }catch(err){\r\n            dispatchIfNotCancel({type: \"ERROR\", payload: 'could not delete'})\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(()=>{\r\n        return ()=>{\r\n            setIsCancel(true)\r\n        }\r\n    }, [])\r\n\r\n    return { addDocument, deleteDocument, response }\r\n}","import { useEffect, useState } from 'react'\r\nimport { useFirestore } from '../../hooks/useFireStore'\r\n\r\nexport default function TransactionForm({uid}) {\r\n  const [name, setName] = useState('')\r\n  const [amount, setAmount] = useState('')\r\n  const { addDocument, response} = useFirestore('transactions')\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    addDocument({ \r\n      uid,\r\n      name, \r\n      amount,\r\n    })\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(response.success){\r\n      setName('')\r\n      setAmount('')\r\n    }\r\n  }, [response.success])\r\n\r\n  return (\r\n    <>\r\n      <h3>Add a Transaction</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <span>Transaction name:</span>\r\n          <input \r\n            type=\"text\"\r\n            required\r\n            onChange={(e) => setName(e.target.value)} \r\n            value={name} \r\n          />\r\n        </label>\r\n        <label>\r\n          <span>Amount ($):</span>\r\n          <input\r\n            type=\"number\"\r\n            required\r\n            onChange={(e) => setAmount(e.target.value)} \r\n            value={amount} \r\n          />\r\n        </label>\r\n        <button>Add Transaction</button>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n","import { useFirestore } from '../../hooks/useFireStore'\r\nimport styles from './Home.module.css'\r\n\r\nconst TransactionList = ({ transactions }) => {\r\n    const { deleteDocument } = useFirestore('transactions')\r\n \r\n  return (\r\n    <ul className={styles.transactions}>\r\n     { transactions.map((transaction) => {\r\n        return <li key={transaction.id}>\r\n            <p className={styles.name}>{transaction.name}</p>\r\n            <p className={styles.amount}>${transaction.amount}</p>\r\n            <button onClick={()=> deleteDocument(transaction.id)}>x</button>\r\n        </li>\r\n      })}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default TransactionList\r\n","// Style  \r\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\r\nimport { useCollection } from \"../../hooks/useCollection\"\r\nimport styles from \"./Home.module.css\"\r\n\r\n//Components\r\nimport TransactionForm from './TransactionForm'\r\nimport TransactionList from \"./TransactionList\"\r\n\r\nexport default function Home() {\r\n  const {user} = useAuthContext()\r\n  const {documents, error} = useCollection( \r\n    'transactions',\r\n    [\"uid\", \"==\", user.uid ],\r\n    [\"createdAt\", 'desc']\r\n    )\r\n \r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.content}>\r\n        { error && <p>{error}</p>}\r\n        {documents && <TransactionList  transactions={documents} />}\r\n      </div>\r\n      <div className={styles.sidebar}>\r\n        <TransactionForm uid={user.uid} />\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useEffect, useRef, useState } from \"react\"\r\nimport { projectFirestore } from \"../firebase/config\"\r\n\r\nexport const useCollection = (collection, _query, _orderBy) => {\r\n    const [documents, setDocuments] = useState(null)\r\n    const [error, setError] = useState(null)\r\n\r\n    // if we don't use a ref --> infinite loop in useEffect\r\n    // _query is an array and is different on every function call\r\n    const query = useRef(_query).current\r\n    const orderBy = useRef(_orderBy).current\r\n\r\n    useEffect(() => {\r\n        let ref = projectFirestore.collection(collection,)\r\n\r\n        if(query){\r\n            ref = ref.where(...query)\r\n        }\r\n        if(orderBy){\r\n             ref = ref.orderBy(...orderBy)\r\n        }\r\n\r\n        const unsubscribe = ref.onSnapshot((snapshot) =>{\r\n            let result = []\r\n            snapshot.docs.forEach(doc => {\r\n                result.push({...doc.data(), id: doc.id})\r\n            })\r\n\r\n            // update state\r\n            setDocuments(result)\r\n            setError(null)\r\n        }, (err)=>{ \r\n            console.log(err)\r\n            setError('could not fetch the data')\r\n        })\r\n\r\n        // unsubscribe on mount \r\n        return ()=> unsubscribe()\r\n\r\n    }, [collection, query, orderBy])\r\n\r\n    return {documents, error}\r\n}","// Style \r\nimport styles from \"./Login.module.css\"\r\n\r\nimport { useState } from 'react'\r\nimport { useLogin } from \"../../hooks/useLogin\"\r\n\r\nconst Login = () => {\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const {login, isPending, error} = useLogin()\r\n  \r\n    const handleSubmit = (e) => {\r\n      e.preventDefault()\r\n      login(email, password)\r\n    }\r\n  return (\r\n    <form onSubmit={handleSubmit} className={styles['login-form']}>\r\n      <h2>login</h2>\r\n      <label>\r\n        <span>email:</span>\r\n        <input \r\n          type=\"email\" \r\n          onChange={(e) => setEmail(e.target.value)} \r\n          value={email}\r\n        />\r\n      </label>\r\n      <label>\r\n        <span>password:</span>\r\n        <input \r\n          type=\"password\" \r\n          onChange={(e) => setPassword(e.target.value)} \r\n          value={password} \r\n        />\r\n      </label>\r\n      {!isPending && <button className=\"btn\">Login</button>}\r\n      {isPending && <button className=\"btn\" disabled>Loading...</button>}\r\n      {error && <p>{error}</p>}\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import { useEffect, useState } from 'react'\r\nimport { projectAuth } from '../firebase/config'\r\nimport { useAuthContext } from './useAuthContext'\r\n\r\n\r\nexport const useLogin = () => {\r\n    const [isCanced, setIsCancel] = useState(false)\r\n    const [error, setError] = useState(null)\r\n    const [isPending, setIsPending] = useState(false)\r\n    const {dispatch} = useAuthContext()\r\n\r\n    const login = async (email, password) => {\r\n        setError(null)\r\n        setIsPending(true)\r\n\r\n        // sign the use out \r\n        try{\r\n            const res = await projectAuth.signInWithEmailAndPassword(email, password)\r\n\r\n            // dspatch logout action\r\n            dispatch({type: \"LOGIN\", payload: res.user})\r\n\r\n            // update state \r\n            if(!isCanced){\r\n                setIsPending(false)\r\n                setError(null)\r\n\r\n            }\r\n        }catch (err){\r\n            // update state \r\n            if(!isCanced){\r\n                setIsPending(false)\r\n                setError(null)\r\n\r\n            }\r\n        }\r\n    }\r\n    useEffect(()=>{\r\n        return () => setIsCancel(true)\r\n    }, [])\r\n    return {login, isPending, error}\r\n}\r\n\r\n\r\n","// Style \r\nimport styles from \"./Signup.module.css\"\r\n\r\nimport {useState} from 'react'\r\nimport { useSignup } from \"../../hooks/useSignup\"\r\n\r\nconst Signup = () => {const [email, setEmail] = useState('')\r\nconst [password, setPassword] = useState('')\r\nconst [displayName, setDisplayName] = useState('')\r\nconst {error, isPending, signup} = useSignup()\r\n\r\nconst handleSubmit = (e) => {\r\n  e.preventDefault()\r\n  signup({email, password, displayName})\r\n}\r\nreturn (\r\n<form onSubmit={handleSubmit} className={styles['signup-form']}>\r\n  <h2>signup</h2>\r\n  <label>\r\n    <span>email:</span>\r\n    <input \r\n      type=\"email\" \r\n      onChange={(e) => setEmail(e.target.value)} \r\n      value={email}\r\n    />\r\n  </label>\r\n  <label>\r\n    <span>display name:</span>\r\n    <input \r\n      type=\"text\" \r\n      onChange={(e) => setDisplayName(e.target.value)} \r\n      value={displayName}\r\n    />\r\n  </label>\r\n  <label>\r\n    <span>password:</span>\r\n    <input \r\n      type=\"password\" \r\n      onChange={(e) => setPassword(e.target.value)} \r\n      value={password} \r\n    />\r\n  </label>\r\n  {!isPending && <button className=\"btn\" >Signup</button>}\r\n  {isPending && <button className=\"btn\" disabled>Loading...</button>}\r\n  {error && <p>{error}</p>}\r\n</form>\r\n)\r\n  \r\n}\r\n\r\nexport default Signup\r\n","import {useEffect, useState} from 'react'\r\nimport { projectAuth } from '../firebase/config'\r\nimport { useAuthContext } from './useAuthContext'\r\n\r\nexport const useSignup = () => {\r\n    const [isCanced, setIsCancel] = useState(false)\r\n    const [error, setError] = useState(null)\r\n    const [isPending, setIsPending] = useState(false)\r\n    const {dispatch} = useAuthContext()\r\n  \r\n    const signup = async ({email, password, displayName}) => {\r\n        setError(null)\r\n        setIsPending(true)\r\n\r\n        try{\r\n            // signup user\r\n           const res = await projectAuth.createUserWithEmailAndPassword(email, password)\r\n           \r\n\r\n           if(!res){\r\n            throw new Error ('could not complete signup')\r\n\r\n           }\r\n           // add display name to user\r\n           await res.user.updateProfile({displayName})\r\n\r\n           // dispatch login action\r\n           dispatch({type: \"LOGIN\", payload: res.user})\r\n\r\n            // update state \r\n            if(!isCanced){\r\n                setIsPending(false)\r\n                setError(null)\r\n\r\n            }\r\n        }catch(err){\r\n            // update state \r\n            if(!isCanced){\r\n                setIsPending(false)\r\n                setError(null)\r\n\r\n            }\r\n        }\r\n    }\r\n    useEffect(()=>{\r\n        return () => setIsCancel(true)\r\n    }, [])\r\n\r\n    return {error, isPending, signup}\r\n}\r\n\r\n\r\n\r\n ","// Style \r\nimport styles from './Navbar.module.css' \r\nimport {useLogout} from '../hooks/useLogout'\r\nimport React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuthContext } from '../hooks/useAuthContext'\r\n\r\nconst Navbar = () => { \r\n  const {logout}  = useLogout()\r\n  const { user } = useAuthContext()\r\n\r\n  return (\r\n    <nav className={styles.navbar}>\r\n       <ul>\r\n            <li className={styles.title}>myMoneyApp</li>\r\n\r\n            {!user && <>\r\n                <li><Link to='/login'>Login</Link></li>\r\n                <li><Link to='/signup'>Signup</Link></li>\r\n              </>\r\n            }\r\n\r\n           {user &&\r\n              <>\r\n              <li>hello, {user.displayName}</li>\r\n                <li>\r\n                  <button className='btn' onClick={() =>logout()}>Logout</button>\r\n                </li>\r\n              </>\r\n            }\r\n       </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","import { useEffect, useState } from 'react'\r\nimport { projectAuth } from '../firebase/config'\r\nimport { useAuthContext } from './useAuthContext'\r\n\r\n\r\nexport const useLogout = () => {\r\n    const [isCanced, setIsCancel] = useState(false)\r\n    const [error, setError] = useState(null)\r\n    const [isPending, setIsPending] = useState(false)\r\n    const {dispatch} = useAuthContext()\r\n\r\n    const logout = async () => {\r\n        setError(null)\r\n        setIsPending(true)\r\n\r\n        // sign the use out \r\n        try{\r\n            await projectAuth.signOut()\r\n\r\n            // dspatch logout action\r\n            dispatch({type: \"LOGOUT\"})\r\n\r\n            // update state \r\n            if(!isCanced){\r\n                setIsPending(false)\r\n                setError(null)\r\n\r\n            }\r\n        }catch (err){\r\n            // update state \r\n            if(!isCanced){\r\n                setIsPending(false)\r\n                setError(null)\r\n\r\n            }\r\n        }\r\n    }\r\n    useEffect(()=>{\r\n        return () => setIsCancel(true)\r\n    }, [])\r\n    return {logout, isPending, error}\r\n}\r\n\r\n\r\n","import { Navigate, Outlet } from \"react-router-dom\";\r\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\r\n// import { useAuthContext } from \"../hooks/auth/useauthcontext\";\r\n\r\nexport  function PrivateRoute() {\r\n     const { user } = useAuthContext()\r\n     return user ? <Outlet /> : <Navigate to=\"/login\" />;\r\n}\r\n\r\nexport  function AllowededRoute() {\r\n     const { user } = useAuthContext()\r\n     return !user ? <Outlet /> : <Navigate to=\"/\" />;\r\n}\r\n","import './App.css'\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\nimport Home from './pages/home/Home';\nimport Login from './pages/login/Login';\nimport Signup from './pages/signup/Signup';\nimport Navbar from './component/Navbar';\nimport { useAuthContext } from './hooks/useAuthContext';\nimport { PrivateRoute, AllowededRoute } from './component/routeguard/privateroute';\n\nfunction App() {\n  const {authIsReady} = useAuthContext()\n  return (\n    <div className=\"App\">\n      {authIsReady &&\n        <BrowserRouter>\n        <Navbar />\n          <Routes>\n            <Route element={<PrivateRoute />} >\n              <Route path='/' element={<Home /> } />\n            </Route>\n            <Route element={<AllowededRoute />} >\n              <Route path='/login' element={<Login />} />\n              <Route path='/signup' element={<Signup />} /> \n            </Route> \n          </Routes>\n        </BrowserRouter>\n      }\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}